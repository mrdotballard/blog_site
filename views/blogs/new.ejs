<% include ../partials/header %>
<div class="ui main text container segment">
  <div class="ui huge header">New Blog</div>
  
  <form class="ui form" action="/blogs" method="POST">
    <div class="field">
      <label>Select Tags</label>
      <% if(typeof tags === 'string') { %>
        <p><%= tags %></p>
      <% } else { %>
       <% tags.forEach(function(tag){ %>
        <!-- passed to params as blogTags[value] -->
          <div style="background-color: <%= tag.color %>;" class="ui checkbox select-tag-div">  
            <input type="checkbox" id="<%= tag.tag_id %>" name="blogTags" value="<%= tag.tag_id %>">
            <label class="select-tag-label" for="<%= tag.tag_id %>"><%= tag.name %></label>
          </div>
        <% }) %>
        <% } %> 
    </div>
    <!-- rest of fields passed as blog[...] -->
    <div class="field">
      <label>Title</label> 
      <input type="text" name="blog[title]"placeholder="title">
    </div>
    
    <div class="field">
      <label>Image URL</label>
      <input type="text" name="blog[image]"placeholder="image">
    </div>
    
    <div class="field">
      <label>Blog Into</label>
      <textarea name="blog[intro]" cols="30" rows="5" placeholder="intro"></textarea>
    </div>

    <div class="field">
      <label>Blog Post</label>
      <textarea name="blog[content]" cols="30" rows="10" placeholder="blog here" required></textarea>
    </div>
    
    <button class="ui big inverted teal button">Submit!</button>

  </form>
</div>
<% include ../partials/footer %>
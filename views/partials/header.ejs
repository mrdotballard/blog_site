<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/styles.css">
  <link rel="icon" href="data:;base64,iVBORw0KGgo="> <!-- prevent favicon request-->
  <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
  <title>Blog App</title>
</head>
<body>
  
<div class="ui fixed inverted menu">
  <!-- <div class="ui container"> -->
    <div class="header item"><i class="keyboard icon"></i>Blog Site</div>
       <a href="/" class="item">Home</a>
       <a href="/blogs/new" class="item">New Post</a>
  <!-- </div> -->
  <div class="right menu">
    <% if(!user) { %>
      <a href="/register" class="item">Register</a>
      <a href="/login" class="item">Login</a>
    <% } else if (user.username == 'matthew') { %>
      <a href="#" class="item">Hi, <%= user.first_name %></a>
      <a href="/manage" class="item">Manage</a>
      <a href="/logout" class="item">Logout</a>
    <% } else { %>
      <a href="#" class="item">Hi, <%= user.first_name %></a>
      <a href="/logout" class="item">Logout</a>
    <% } %>
  </div>
</div>








  <div class="ui padded grid">


    <div class="three wide column page-content" style="padding-left: 40px;">

      <div class="ui vertical menu tags-sticky">
        <div class="ui segment">
          <!-- if no tags in DB display message from Express -->
          <% if(typeof tagsMenu === 'string') { %>
              <p><%= tagsMenu %></p>
          <% } else { 
              tagsMenu.forEach(function(tag){ %>
                  <div style="background-color: <%= tag.color %>;" 
                      class="ui label tag-item" 
                      data-blog-count="<%= tag.blog_count %>"
                      data-tag-id="<%= tag.tag_id %>"> 
                      <%= tag.name %>
                      <span class="tag-menu-count"><%= tag.blog_count %></span>
                  </div>
              <% })
              } %>
          </div>
      </div>
    </div>


    
  <!-- <div class="one wide column"> </div> -->
  <div class="ten wide column page-content">

      <!-- logic to display flash messages -->
      <% if(error && error.length > 0) { %>
        <div class="ui container flash">
          <div class="ui warning message" role="alert">
            <%= error %>
          </div>
        </div>
        <% } %>
    
        <% if(success && success.length > 0) { %>
        <div class="ui container flash">
          <div class="ui success message" role="alert">
            <%= success %>
          </div>
        </div>
        <% } %>